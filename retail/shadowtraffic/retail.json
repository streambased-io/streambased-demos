{
  "generators": [
    {
      "topic": "store",
      "vars": {
        "storeId": {
          "_gen": "sequentialString",
          "expr": "store-~d"
        }
      },
      "key": {
        "store_id": {
          "_gen": "var",
          "var": "storeId"
        }
      },
      "value": {
        "store_id": {
          "_gen": "var",
          "var": "storeId"
        },
        "opening_hours": {
          "_gen": "oneOf",
          "choices": [
            "9:00 - 17:00",
            "9:00 - 22:00"
          ]
        },
        "capacity": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              100,
              500
            ]
          }
        },
        "location": {
          "_gen": "string",
          "expr": "#{Address.latitude}, #{Address.longitude}"
        }
      },
      "localConfigs": {
        "events": {
          "exactly": 100
        }
      }
    },
    {
      "topic": "item",
      "vars": {
        "itemId": {
          "_gen": "sequentialString",
          "expr": "item-~d"
        }
      },
      "key": {
        "item_id": {
          "_gen": "var",
          "var": "itemId"
        }
      },
      "value": {
        "item_id": {
          "_gen": "var",
          "var": "itemId"
        },
        "name": {
          "_gen": "string",
          "expr": "#{Commerce.productName}"
        },
        "description": {
          "_gen": "string",
          "expr": "#{Lorem.sentence}"
        },
        "department": {
          "_gen": "string",
          "expr": "#{Commerce.department}"
        },
        "weight": {
          "_gen": "uniformDistribution",
          "bounds": [
            0.5,
            20
          ],
          "decimals": 2
        },
        "size": {
          "_gen": "string",
          "expr": "#{Commerce.material}"
        },
        "price": {
          "_gen": "uniformDistribution",
          "bounds": [
            10,
            1000
          ],
          "decimals": 2
        }
      },
      "localConfigs": {
        "events": {
          "exactly": 25000
        }
      }
    },
    {
      "topic": "delivery",
      "fork": {
        "key": {
          "_gen": "uuid"
        },
        "stagger": {
          "ms": {
            "_gen": "uniformDistribution",
            "bounds": [
              100,
              500
            ]
          }
        },
        "maxForks": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              1,
              15
            ]
          }
        }
      },
      "key": {
        "delivery_id": {
          "_gen": "var",
          "var": "forkKey"
        }
      },
      "value": {
        "item_id": {
          "_gen": "lookup",
          "topic": "item",
          "path": [
            "key",
            "item_id"
          ]
        },
        "truck_id": {
          "_gen": "lookup",
          "topic": "truck",
          "path": [
            "key",
            "truck_id"
          ]
        },
        "store_id": {
          "_gen": "lookup",
          "topic": "store",
          "path": [
            "key",
            "store_id"
          ]
        },
        "time_seconds": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              0,
              59
            ]
          }
        },
        "time_mins": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              0,
              59
            ]
          }
        },
        "time_hours": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              0,
              23
            ]
          }
        },
        "date_day": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              10,
              17
            ]
          }
        },
        "date_month": {
          "_gen": "oneOf",
          "choices": [
            "5"
          ]
        }
      },
      "localConfigs": {
        "events": {
          "exactly": 500000
        }
      }
    },
    {
      "topic": "sale",
      "fork": {
        "key": {
          "_gen": "uuid"
        },
        "stagger": {
          "ms": {
            "_gen": "uniformDistribution",
            "bounds": [
              100,
              500
            ]
          }
        },
        "maxForks": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              1,
              15
            ]
          }
        }
      },
      "key": {
        "session_id": {
          "_gen": "var",
          "var": "forkKey"
        }
      },
      "value": {
        "item_id": {
          "_gen": "lookup",
          "topic": "item",
          "path": [
            "key",
            "item_id"
          ]
        },
        "store_id": {
          "_gen": "lookup",
          "topic": "store",
          "path": [
            "key",
            "store_id"
          ]
        },
        "time_seconds": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              0,
              59
            ]
          }
        },
        "time_mins": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              0,
              59
            ]
          }
        },
        "time_hours": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              0,
              23
            ]
          }
        },
        "date_day": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              10,
              17
            ]
          }
        },
        "date_month": {
          "_gen": "oneOf",
          "choices": [
            "5"
          ]
        }
      },
      "localConfigs": {
        "events": {
          "exactly": 250000
        }
      }
    },
    {
      "topic": "sale",
      "key": {
        "session_id": {
          "_gen": "uuid"
        }
      },
      "value": {
        "item_id": {
          "_gen": "oneOf",
          "choices": [
            "item-30000"
          ]
        },
        "store_id": {
          "_gen": "lookup",
          "topic": "store",
          "path": [
            "key",
            "store_id"
          ]
        },
        "time_seconds": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              0,
              59
            ]
          }
        },
        "time_mins": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              0,
              59
            ]
          }
        },
        "time_hours": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              0,
              23
            ]
          }
        },
        "date_day": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              10,
              17
            ]
          }
        },
        "date_month": {
          "_gen": "oneOf",
          "choices": [
            "5"
          ]
        }
      },
      "localConfigs": {
        "events": {
          "exactly": 100
        }
      }
    },
    {
      "topic": "store",
      "vars": {
        "storeId": {
          "_gen": "string",
          "expr": "store-#{Number.numberBetween '0','2000'}"
        }
      },
      "key": {
        "store_id": {
          "_gen": "var",
          "var": "storeId"
        }
      },
      "value": {
        "store_id": {
          "_gen": "var",
          "var": "storeId"
        },
        "opening_hours": {
          "_gen": "oneOf",
          "choices": [
            "9:00 - 17:00",
            "9:00 - 22:00"
          ]
        },
        "capacity": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              100,
              500
            ]
          }
        },
        "location": {
          "_gen": "string",
          "expr": "#{Address.latitude}, #{Address.longitude}"
        }
      },
      "localConfigs": {
        "throttle": {
          "ms": {
            "_gen": "uniformDistribution",
            "bounds": [
              2000,
              5000
            ]
          },
          "events": {
            "exactly": 25000
          }
        }
      }
    },
    {
      "topic": "truck",
      "vars": {
        "truckId": {
          "_gen": "string",
          "expr": "truck-#{Number.numberBetween '1','91'}"
        }
      },
      "key": {
        "truck_id": {
          "_gen": "var",
          "var": "truckId"
        }
      },
      "value": {
        "truck_id": {
          "_gen": "var",
          "var": "truckId"
        },
        "truck_name": {
          "_gen": "string",
          "expr": "#{FunnyName.name}"
        },
        "current_latitude": {
          "_gen": "uniformDistribution",
          "bounds": [
            46.2,
            47.5
          ]
        },
        "current_longitude": {
          "_gen": "uniformDistribution",
          "bounds": [
            6.1,
            7.5
          ]
        },
        "capacity": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              50,
              300
            ]
          }
        },
        "reg_plate": {
          "_gen": "string",
          "expr": "#{Address.countryCode}-#{Number.digits '3'}-#{Number.digits '3'}"
        },
        "time_seconds": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              0,
              59
            ]
          }
        },
        "time_mins": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              0,
              59
            ]
          }
        },
        "time_hours": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              0,
              23
            ]
          }
        },
        "date_day": {
          "_gen": "integer",
          "n": {
            "_gen": "uniformDistribution",
            "bounds": [
              10,
              17
            ]
          }
        },
        "date_month": {
          "_gen": "oneOf",
          "choices": [
            "5"
          ]
        }
      },
      "localConfigs": {
        "events": {
          "exactly": 500000
        }
      }
    },
    {
      "topic": "item",
      "key": {
        "item_id": {
          "_gen": "sequentialString",
          "expr": "item-~d"
        }
      },
      "value": {
        "item_id": {
          "_gen": "sequentialString",
          "expr": "item-~d"
        },
        "name": {
          "_gen": "string",
          "expr": "#{Commerce.productName}"
        },
        "description": {
          "_gen": "string",
          "expr": "#{Lorem.sentence}"
        },
        "department": {
          "_gen": "string",
          "expr": "#{Commerce.department}"
        },
        "weight": {
          "_gen": "uniformDistribution",
          "bounds": [
            0.5,
            20
          ],
          "decimals": 2
        },
        "size": {
          "_gen": "string",
          "expr": "#{Commerce.material}"
        },
        "price": {
          "_gen": "uniformDistribution",
          "bounds": [
            10,
            1000
          ],
          "decimals": 2
        }
      },
      "localConfigs": {
        "events": {
          "exactly": 25000
        }
      }
    }
  ],
  "connections": {
    "kafka": {
      "kind": "kafka",
      "producerConfigs": {
        "bootstrap.servers": "kafka1:9092",
        "key.serializer": "io.shadowtraffic.kafka.serdes.JsonSerializer",
        "value.serializer": "io.confluent.kafka.serializers.KafkaAvroSerializer",
        "schema.registry.url": "http://schema-registry:8081",
        "avscFiles": {
          "store": "/etc/shadowtraffic/store.avsc",
          "truck": "/etc/shadowtraffic/truck.avsc",
          "delivery": "/etc/shadowtraffic/delivery.avsc",
          "item": "/etc/shadowtraffic/item.avsc",
          "sale": "/etc/shadowtraffic/sale.avsc"
        }
      }
    }
  }
}